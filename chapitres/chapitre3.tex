\documentclass[main.tex]{subfiles}

\chapter{Générer une équipe de Pokémon optimale pour les VGC 2019}

Avant de s'atteler à la résolution d'un combat, il faut déterminer une ou plusieurs équipes avec lesquelles nous participerons. Cette sélection est contrainte aux règles en vigueur qui changent aux cours des saisons, ce qui signifie qu'une équipe admise durant la première saison ne sera pas nécessairement admise à la seconde. De plus, pour des raisons de stratégie, il est intéressant de changer d'équipe entre chaque saison, voire à chaque opportunité présentée afin de ne pas laisser les adversaires s'adapter à notre solution. La force de notre solution ne réside pas dans sa capacité à répondre à tout, mais dans notre capacité à générer un maximum d'équipes acceptables et optimisées.

\section{Liste des Pokémon sélectionnables}

Ici, nous allons donc discuter des critères qui vont nous aider à produire une équipe de Pokémon.

\subsection{Les caractéristiques que l'on va utiliser dans la sélection}

Une équipe Pokémon pour les VGC 2019 se compose de six Pokémon n'appartenant pas à la liste des Pokémon non autorisés lors des combats officielles. Pour cela, nous allons dresser un tableau des Pokémon acceptés comprenant les statistiques qui vont nous intéresser ainsi que les traits qui pourrait potentiellement entrer en jeu durant notre sélection.

Pour tout Pokémon, nous avons à l'avance déterminé que les formes différentes qu'un Pokémon peut avoir ne peut être changées en combat (sauf exception). Nous allons donc, pour chaque forme, les considérer comme un Pokémon à part entière.

Pour chaque Pokémon, nous allons dresser une série de données qui le compose sans prendre en compte les changements qui peuvent affecter le Pokémon. Dans la série VGC, chaque Pokémon sera niveau 50, cela nous permet donc de nous intéresser aux statistiques qu'un Pokémon possède à un seul état de sa progression. Les caractéristiques et les statistiques qui nous intéressent donc dans cette partie sont :

\begin{itemize}
    
    \item Les points de vie
    
    \item L'Attaque
    
    \item La Défense
    
    \item L'Attaque Spéciale
    
    \item La Défense Spéciale
    
    \item La Vitesse
    
    \item Les types
    
\end{itemize}

On peut ignorer le reste lors de la sélection, car il s'agit de variables qui nous permettent de modifier le Pokémon à notre guise ou à notre insu.

\subsection{Déterminer les dominants}

Un joueur va ensuite regarder les dominances d'un Pokémon lorsqu'il fait son choix. La dominance d'un Pokémon est lorsque l'une de ses statistiques (Attaque, Défense, etc.) est plus haute que le reste des Pokémon. Nous allons donc déterminer dans cet ordre les dominances naturelles (toutes les statistiques dominent le reste du Pokédex), dominance par trois statistiques, puis par deux et enfin par une. Il est en général plus courant pour un joueur en tournoi de ne se concentrer que sur deux des statistiques d'un Pokémon.

Cette multiple détermination de dominance nous permettra par la suite d'évaluer des profiles types de Pokémon. Un dominant naturel sera bien évidemment à favoriser, cependant les VGC se déroulent dans un format de combat en deux contre deux. Dans cette optique, il est important de prendre en compte une stratégie de synergie où les Pokémon peuvent aussi s'aider l'un l'autre. C'est pour cette raison qu'il est important, à partir de cette détermination de dominants au travers des statistiques naturelles d'un Pokémon, d'ensuite déterminer des profiles à associer aux Pokémon.

\subsection{Déterminer les profils}

Comme dans tous jeux où une équipe affronte un autre groupe de joueurs ou de monstres, il est important de développer une stratégie afin que chaque rôle puisse jouer de leurs avantages en combat.

Nous retrouvons quatre profils types dans ces situations, qui agissent comme un modèle universel dans les jeux :

\begin{itemize}
    
    \item Le DPS
    
    DPS provient des mots "Damage Per Second" qui traduit en français nous donne "Dommage Par Seconde". Ce rôle a pour but d'infliger un maximum de dégâts à ses adversaires. Les statistiques qui l'intéresseront seront souvent celles qui a un lien direct avec la puissance de ses attaques. De même, son éventail de capacités s'orientera sur des attaques, ou sur des capacités qui vont infliger des dégâts à ses adversaires.
    
    \item Le Tank
    
    Le Tank agit comme le gardien de son équipe. Il redirige les dégâts vers lui-même et fais en sorte de minimiser les dégâts qu'il subit. Le Tank cherchera à augmenter ses points de vie ainsi que toutes statistiques qui lui permettront d'éviter ou de réduire les dégâts en approche. Les capacités qu'il essayera d'acquérir auront pour but de le protéger lui et ses compagnons.
    
    \item Le Support
    
    Le Support a pour rôle de renforcer son équipe. Il a plusieurs moyens selon les jeux dans lequel il intervient d'agir pour le bien de son équipe. Il peut soigner ses alliés, les renforcer ou augmenter leurs statistiques à l'aide de ses capacités ou même leur offrir un avantage indirect en agissant comme un scout.
    
    \item L'Hybride
    
    Un Hybride n'a pas de rôle défini à proprement parler. L'Hybride peut être une partie de chacun des rôles présentés ci-dessus, et même être tous les rôles ci-dessus. Il paye de leur polyvalence dans le fait qu'ils ne peuvent pas accomplir les différents rôles qu'ils peuvent prendre aussi bien que les non-Hybrides.
    
\end{itemize}

Dans une équipe Pokémon, nous allons retrouver ses concepts avec des Pokémon qui vont se supporter l'un l'autre, en choisissant un Pokémon Tank pour protéger un Pokémon DPS par exemple.

Nous allons déterminer ses profils à partir de leur dominance. Un Pokémon ayant beaucoup d'Attaque et de Défense est plus sensible à un Pokémon qui utilise des attaques spéciales. Néanmoins, il sera aussi un Pokémon qui se concentra sur des capacités physiques. On cherchera donc à optimiser son côté attaquant à l'aide des natures, des talents, des IVs et des EVs.

Dans cette étape, nous attribuons donc un rôle à ce Pokémon. On va chercher à renforcer les statistiques avantageuses des Pokémon à l'aide des IVs, EVs, des natures et des talents, et choisissons les priorités à déterminer lors de sélection des capacités ainsi que des objets. Lors de la sélection des capacités et des objets, nous interdisons la sélection de ceux interdits par les règles.

\subsection{Une équipe optimisée}

Une fois les profils déterminés, nous pouvons passer au "draft", au tirage des Pokémon, et former des équipes optimisées. Il reste cependant un point à déterminer, et c'est la répartition des types. Il est important d'avoir une bonne répartition des types afin de pouvoir ignorer une grande partie des dégâts qui pourraient approcher deux Pokémon en combat. Dans notre sélection, nous allons donc nous orienter vers une répartition des types équilibrés, en tirant des Pokémon qui comblent le maximum de type. Il n'est pas intéressant d'essayer de créer des équipes spécialisées avec quelques types, puisque l'équipe adverse n'a besoin que de remplir les conditions d'avoir des capacités offensives de types qui infligeront le maximum de dégâts.

Il reste encore des contraintes dans la sélection qui veut que l'on ne puisse pas avoir plus de deux légendaires ou deux Pokémon de la même espèce, dans ce tirage il faut prendre en compte ces contraintes.

\section{Mise en application}

Nous allons chercher à créer une application qui nous permettra de contenir et traiter toutes les données qui nous seront nécessaires à l'écriture de l'algorithme qui nous permettra d'effectuer cette sélection.

\subsubsection{Récupération des données}

Dans le cadre de la mise en application, nous avons donc cherché une base de donnée à jour et complète. Nous en avons trouvé plusieurs, mais nous en retiendrons qu'une seule qui est à la fois complète, organisée et tenue à jour avec les jeux. Cette "base de données" est entièrement écrite en fichier de format CSV. Il faut donc interpréter ce CSV afin de pouvoir le lire et compiler les informations dont on a besoin. Nous avons décidé de traduire le grand volume de données offert par ces fichiers.

C'est en réalisant ce travail d'interprétation vers une base de données MySQL que l'on s'est rendu compte que certains des fichiers n'étaient pas interprétables pour deux raisons :

\begin{itemize}
    
    \item Certains fichiers ne sont pas corrects. Il y a certains fichiers CSV très volumineux qui ont des retours à la ligne dans leurs valeurs.
    
    \item Certains noms de valeurs nécessitent un raffinage des valeurs extraites. Beaucoup de fichiers se référencent eux-mêmes, ce qui dans l'interprétation, fausse le travail de traduction automatique vers le SQL.
    
\end{itemize}

\subsubsection{La sélection}

Le travail lié à l'interprétation ayant été aussi demandeur, nous avons rencontré un obstacle dans la suite de la mise en application. Il n'est pas impossible de finir la traduction de la base de données, néanmoins, cet exercice pourrait nous couter la richesse des données que nous avons récupérée pour l'attaque de l'algorithme de sélection.

Nous voulons pouvoir garder l'intégrité des données à tout moment afin d'avoir une application dynamique qui peut être réutilisable pour les compétitions des années suivantes. Cela nécessite qu'à la mise à jour de ces données, le travail de traduction doive être minime, voire automatique pour garder une certaine cohérence dans notre sélection.

Cette réflexion est une problématique sur laquelle nous allons réfléchir à l'avenir.

Pour la sélection, notre solution théorique peut encore être améliorée puisqu'elle ne prend pas encore en compte certaines spécificités : les profils un peu uniques et les méga-évolutions. Il faudra réfléchir au traitement de ces deux cas spécifiques lorsque nous améliorerons notre solution.

\subsection{Résultats de la sélection}

L'important à retenir de cette partie, c'est que la mise en application ne dépend que des règles imposées par les VGC qui changent chaque année, ainsi que la cohérence des données. L'automatisation de la sélection des équipes permettra à l'avenir de n'avoir qu'à adapter les tableaux de données pour qu'elle soit de nouveau cohérente et d'adapter les règles en vigueur.

